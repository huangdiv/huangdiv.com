{{ if and (.Params.comments | default .Site.Params.enableComments) (eq hugo.Environment "production") }}
    {{ if or (in .Site.Params.mainSections .Section) .Params.comments }}

        {{ if .Site.Params.enableValineSpecial }}

            <div id="vscomments" style="margin-top: 2em;"></div>
            
        {{- else -}}

            <div class="load-comments">
                <div id="load-comments" onclick="loadComments()">{{ i18n "loadComments" }}</div>
            </div>

            {{ if .Site.Params.enableDisqus }}
                <div id="disqus_thread"></div>
            {{ end }}

            {{ if .Site.Params.enableValine }}
                <div id="vcomments"></div>
            {{ end }}

            {{ if .Site.Params.enableUtterances }}
                <div id="utterances"></div>
            {{ end }}
        {{ end }}

    {{ end }}
{{ end }}